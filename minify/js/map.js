function initMap(){var a=[{x:51.483401,y:-.308001,logo:"ups-logo.svg",distance:"1.3",price:"2.55",vat:"3.22",name:"Collect+ at MARTINS",adress:"205 High Street, Brentford, Middlesex",postcode:"TW8 8AH",printer:!0,status:{drop:"11:45am",delivery:"Tue 19th"},worktime:[{days:"Mon - Sat",time:"06:00 - 19:30"},{days:"Sun",time:"07:00 - 16:00"}]},{x:51.482773,y:-.309181,logo:"ups-logo.svg",distance:"1.3",price:"1.85",vat:"3.09",name:"Magpie and Crown",adress:"205 High Street, Brentford, Middlesex",postcode:"TW8 8AH",printer:!0,status:{collect:!0,delivery:"Tue 19th"},worktime:[{days:"Mon - Sat",time:"06:00 - 19:00"},{days:"Sun",time:"07:00 - 16:00"}]},{x:51.482725,y:-.308208,logo:"ups-logo.svg",distance:"1.3",price:"7.55",vat:"3.22",name:"Cineco",adress:"205 High Street, Brentford, Middlesex",postcode:"TW8 8AH",printer:!1,status:{drop:"11:45am",delivery:"Tue 19th"},worktime:[{days:"Mon - Sat",time:"07:00 - 18:30"},{days:"Sun",time:"07:00 - 16:00"}]}],o={class:"map-window",container:document.createElement("DIV"),closeBtn:document.createElement("DIV"),bookBtn:document.createElement("DIV"),content:document.createElement("DIV"),init:function(t){this.container.className="map-window",this.container.style.display="none",this.closeBtn.className="map-window-close",this.content.className="map-window-content",this.closeBtn.innerHTML="<img src='./img/icons/close-btn.png' alt='close button' class='window-close-icon'>",this.bookBtn.className="map-window-book",this.bookBtn.innerHTML="<button class='btn btn-secondary w-100'>Book now</button>",this.distance=document.createElement("DIV"),this.distance.className="map-window-distance",this.name=document.createElement("h2"),this.adress=document.createElement("DIV"),this.adress.className="map-window-adress",this.workTime=document.createElement("DIV"),this.workTime.className="map-window-work-time",this.printer=document.createElement("DIV"),this.printer.className="map-window-printer",this.drop=document.createElement("DIV"),this.drop.className="map-window-drop",this.price=document.createElement("h3"),this.price.className="text-price",this.vat=document.createElement("h4"),this.vat.className="text-price-ext",this.container.appendChild(this.distance),this.container.appendChild(this.closeBtn),this.container.appendChild(this.content),this.container.appendChild(this.bookBtn),t.controls[google.maps.ControlPosition.TOP_RIGHT].push(this.container),(self=this).closeBtn.addEventListener("click",function(){self.close()})},setContent:function(t){var e=this;this.container.style.display="flex",this.distance.innerHTML=a[t].distance+" Miles",this.content.innerHTML="<h2>"+a[t].name+"</h2><div class='map-window-adress'>"+a[t].adress+", "+a[t].postcode+"</div>",a[t].worktime&&a[t].worktime.forEach(function(t){e.content.innerHTML+="<div class='map-window-work'><div>"+t.days+"</div><div>"+t.time+"</div></div>"}),a[t].printer?this.content.innerHTML+="<div class='map-window-printer'><div><img src='./img/icons/Icon_printer_required.svg' alt=''></div><div><span>Printer required</span></div></div>":this.content.innerHTML+="<div class='map-window-printer'><div><img src='./img/icons/Icon_printer_not_required.svg' alt=''></div><div><span>Printer not required</span></div></div>",a[t].status.drop&&(this.content.innerHTML+="<div class='map-window-status'><div><img src='./img/icons/icon_location_pin.svg' alt=''></div><div><span>Drop by "+a[t].status.drop+"</span><span>Delivery "+a[t].status.delivery+"</span></div></div>"),a[t].status.collect&&(this.content.innerHTML+="<div class='map-window-status'><div><img src='./img/icons/icon_clock.svg' alt=''></div><div><span>Collect today</span><span>Delivery "+a[t].status.delivery+"</span></div></div>"),this.content.innerHTML+="<h3 class='text-price'><span>£<span class='ship-cost'> "+a[t].price+"</span> <span class='ex-vat'>ex VAT</span></span></h3><h4 class='text-price-ext'>£ <span class='new-price'>"+a[t].vat+"</span> <span class='inc-vat'>inc VAT</span></h4>"},open:function(){this.container.style.display="flex"},close:function(){this.container.style.display="none"}};function c(t,e,n,i){this.lat=t,this.lng=e,this.i=i,this.map=n,this.pos=new google.maps.LatLng(t,e)}(c.prototype=new google.maps.OverlayView).onRemove=function(){},c.prototype.onAdd=function(){var e=this.i,n=this.map;this.container=document.createElement("DIV"),this.container.className="map-marker",this.container.style.position="absolute",this.container.innerHTML="<img src='./img/icons/"+a[e].logo+"' alt=''><div><span>"+a[e].distance+" Miles</span><span>More info</span></div>",this.getPanes().overlayImage.appendChild(this.container),this.container.addEventListener("click",function(t){document.querySelectorAll(".map-marker").forEach(function(t){t.classList.remove("active")}),t.target.closest(".map-marker").classList.add("active"),n.panTo(new google.maps.LatLng(a[e].x,a[e].y)),o.setContent(e),o.open()})},c.prototype.draw=function(){var t=this.getProjection().fromLatLngToDivPixel(this.pos);this.getPanes();this.container.style.left=t.x-20+"px",this.container.style.top=t.y-44+"px"},document.querySelectorAll("[data-action=map]").forEach(function(t){var e,n=new google.maps.LatLngBounds,i=new google.maps.Map(t,{zoom:18,center:new google.maps.LatLng(51.48312,-.308564),clickableIcons:!1,mapTypeControl:!1});for(o.init(i),e=0;e<a.length;e++){var s=new google.maps.LatLng(a[e].x,a[e].y);new c(a[e].x,a[e].y,i,e).setMap(i),n.extend(s)}})}